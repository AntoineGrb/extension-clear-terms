<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clear Terms</title>
  <link rel="stylesheet" href="output.css">
</head>
<body class="w-[380px] h-[600px] bg-gray-50 overflow-hidden flex flex-col">
  <!-- Page principale -->
  <!-- Header -->
  <div class="bg-gradient-to-br from-primary-500 to-secondary-500 text-white py-5 px-5 text-center flex-shrink-0 relative">
    <h1 class="text-xl font-semibold mb-1" data-i18n="headerTitle">Clear Terms</h1>
    <p class="text-xs opacity-90" data-i18n="headerSubtitle">Analyse IA des CGU et Politiques de Confidentialit√©</p>
    <button id="settingsButton" class="absolute top-4 right-4 w-8 h-8 flex items-center justify-center hover:bg-white/20 rounded-full transition-colors" data-i18n-title="settings">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
      </svg>
    </button>
  </div>

  <!-- Container avec scroll (overflow-y-scroll pour toujours afficher le scroll) -->
  <div id="mainPage" class="flex-1 overflow-y-scroll px-4 py-4 scrollbar-thin">
    <!-- Section Scan -->
    <div class="bg-white rounded-lg p-4 mb-4 shadow-sm">
      <button id="scanButton" class="w-full py-3.5 px-4 bg-primary-500 hover:bg-primary-600 disabled:bg-gray-300 text-white rounded-md font-medium text-sm transition-colors" data-i18n="analyzeButton">
        Analyser la page active
      </button>
      <div id="status"></div>
    </div>

    <!-- Section Rapport (accord√©on) -->
    <div id="reportSection" class="bg-white rounded-lg shadow-sm hidden">
      <!-- Header cliquable -->
      <button id="reportToggle" class="w-full p-4 text-left hover:bg-gray-50 transition-colors rounded-lg">
        <div class="flex justify-between items-start mb-3 pb-3 border-b border-gray-200">
          <div class="flex-1 min-w-0 mr-3">
            <h2 id="siteName" class="text-base font-semibold text-gray-900 truncate">-</h2>
            <div id="analysisDate" class="text-xs text-gray-400 mt-1">-</div>
          </div>
          <div class="flex-shrink-0 text-center">
            <div id="grade" class="w-12 h-12 rounded-full flex items-center justify-center text-xl font-bold text-white">-</div>
            <div class="text-[9px] text-gray-400 mt-0.5 uppercase tracking-wide">Score</div>
          </div>
        </div>

        <div id="badges" class="flex gap-2 justify-center"></div>
      </button>

      <!-- Contenu d√©pliable -->
      <div id="reportContent" class="hidden px-4 pb-4">
        <div id="categoriesList" class="flex flex-col gap-2"></div>
        <div class="mt-4 text-center text-[10px] text-gray-400 leading-snug" data-i18n="disclaimer">
        ‚ö†Ô∏è Clear Terms fournit un r√©sum√© non-juridique. Consultez toujours le texte original. Les analyses IA peuvent contenir des erreurs.
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="mt-6 pt-4 border-t border-gray-200">
      <div class="flex justify-center gap-6 text-xs mb-3">
        <button id="aboutButton" class="text-primary-600 hover:text-primary-700 font-medium transition-colors" data-i18n="about">√Ä propos</button>
        <button id="termsButton" class="text-primary-600 hover:text-primary-700 font-medium transition-colors" data-i18n="terms">Conditions de Service</button>
      </div>
    </div>
  </div>

  <!-- Page Param√®tres (cach√©e par d√©faut) -->
  <div id="settingsPage" class="flex-1 overflow-y-scroll px-4 py-4 scrollbar-thin hidden">
    <div class="bg-white rounded-lg p-4 shadow-sm">
      <div class="flex items-center mb-4">
        <button id="backButton" class="mr-3 text-gray-600 hover:text-gray-900 transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
        </button>
        <h2 class="text-lg font-semibold text-gray-900" data-i18n="settings">Param√®tres</h2>
      </div>

      <div class="space-y-4">
        <!-- Langue -->
        <div>
          <label for="languageSelect" class="block text-sm font-medium text-gray-700 mb-2" data-i18n="languageLabel">
            Langue de l'interface et des rapports
          </label>
          <select id="languageSelect" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500">
            <option value="fr">Fran√ßais</option>
            <option value="en">English</option>
          </select>
          <p class="mt-1 text-xs text-gray-500" data-i18n="languageHelp">
            Les rapports seront g√©n√©r√©s dans cette langue
          </p>
        </div>

        <!-- D√©tection automatique -->
        <div class="pt-3 border-t border-gray-200">
          <label class="flex items-center cursor-pointer">
            <input type="checkbox" id="toastEnabled" class="w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500" checked>
            <span class="ml-2 text-sm font-medium text-gray-700" data-i18n="toastEnabled">Activer la d√©tection automatique</span>
          </label>
          <p class="mt-1 ml-6 text-xs text-gray-500" data-i18n="toastEnabledHelp">
            Affiche un toast lorsque des CGU sont d√©tect√©es sur une page
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Page √Ä propos (cach√©e par d√©faut) -->
  <div id="aboutPage" class="flex-1 overflow-y-scroll px-4 py-4 scrollbar-thin hidden">
    <div class="bg-white rounded-lg p-4 shadow-sm">
      <div class="flex items-center mb-4">
        <button id="backFromAbout" class="mr-3 text-gray-600 hover:text-gray-900 transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
        </button>
        <h2 class="text-lg font-semibold text-gray-900" data-i18n="aboutContent.title">√Ä propos</h2>
      </div>

      <div class="prose prose-sm max-w-none space-y-4">
        <section>
          <h3 class="text-base font-semibold text-gray-900 mb-2" data-i18n="aboutContent.missionTitle">üéØ Notre mission</h3>
          <p class="text-sm text-gray-700 leading-relaxed" data-i18n="aboutContent.missionText">
            Clear Terms aide les utilisateurs √† comprendre rapidement les Conditions G√©n√©rales d'Utilisation et Politiques de Confidentialit√© des services en ligne. Notre IA analyse le contenu et identifie les points importants pour vous permettre de prendre des d√©cisions √©clair√©es.
          </p>
        </section>

        <section>
          <h3 class="text-base font-semibold text-gray-900 mb-2" data-i18n="aboutContent.howItWorksTitle">üìä Comment √ßa marche ?</h3>
          <p class="text-sm text-gray-700 leading-relaxed" data-i18n="aboutContent.howItWorksText1">
            Nous utilisons l'IA (Google Gemini) pour analyser automatiquement 12 cat√©gories cl√©s : collecte de donn√©es, partage avec des tiers, droits utilisateur, mesures de s√©curit√©, et bien plus.
          </p>
          <p class="text-sm text-gray-700 leading-relaxed mt-2" data-i18n="aboutContent.howItWorksText2">
            Chaque cat√©gorie re√ßoit un statut bas√© sur son impact pour l'utilisateur :
          </p>
          <ul class="text-sm text-gray-700 space-y-1 mt-2">
            <li data-i18n="aboutContent.statusGreen"><span class="text-emerald-600 font-medium">üü¢ Vert</span> : Favorable pour l'utilisateur</li>
            <li data-i18n="aboutContent.statusAmber"><span class="text-amber-600 font-medium">üü° Ambre</span> : Acceptable avec r√©serves</li>
            <li data-i18n="aboutContent.statusRed"><span class="text-red-600 font-medium">üî¥ Rouge</span> : Pr√©occupant</li>
            <li data-i18n="aboutContent.statusNA"><span class="text-gray-500 font-medium">‚ö™ N/A</span> : Non mentionn√© dans le document</li>
          </ul>
        </section>

        <section>
          <h3 class="text-base font-semibold text-gray-900 mb-2" data-i18n="aboutContent.scoreTitle">üéØ Calcul du score</h3>
          <p class="text-sm text-gray-700 leading-relaxed" data-i18n="aboutContent.scoreText">
            Le score global (A-E) est calcul√© en pond√©rant les cat√©gories : chaque statut vert compte pour 2 points, ambre pour 1 point, rouge pour 0. Les cat√©gories N/A ne sont pas prises en compte dans le calcul.
          </p>
        </section>

        <section>
          <h3 class="text-base font-semibold text-gray-900 mb-2" data-i18n="aboutContent.privacyTitle">üîí Confidentialit√©</h3>
          <p class="text-sm text-gray-700 leading-relaxed" data-i18n="aboutContent.privacyText">
            Vos donn√©es ne sont jamais stock√©es de mani√®re identifiable. L'analyse est effectu√©e en temps r√©el et les r√©sultats sont mis en cache anonymement (par hash du contenu) pour optimiser les performances et r√©duire les co√ªts.
          </p>
        </section>

        <section>
          <h3 class="text-base font-semibold text-gray-900 mb-2" data-i18n="aboutContent.limitationsTitle">‚ö†Ô∏è Limitations importantes</h3>
          <p class="text-sm text-gray-700 leading-relaxed" data-i18n="aboutContent.limitationsText">
            Clear Terms n'est pas un conseil juridique et ne remplace pas l'avis d'un avocat qualifi√©. Les analyses peuvent contenir des erreurs ou des impr√©cisions. Consultez toujours le texte original et, si n√©cessaire, un professionnel du droit.
          </p>
        </section>
      </div>
    </div>
  </div>

  <!-- Page Conditions de Service (cach√©e par d√©faut) -->
  <div id="termsPage" class="flex-1 overflow-y-scroll px-4 py-4 scrollbar-thin hidden">
    <div class="bg-white rounded-lg p-4 shadow-sm">
      <div class="flex items-center mb-4">
        <button id="backFromTerms" class="mr-3 text-gray-600 hover:text-gray-900 transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
        </button>
        <h2 class="text-lg font-semibold text-gray-900" data-i18n="termsContent.title">Conditions de Service</h2>
      </div>

      <div class="prose prose-sm max-w-none space-y-4 text-xs text-gray-700">
        <p class="text-gray-500 italic" data-i18n="termsContent.effectiveDate">Date d'effet : 6 octobre 2025</p>

        <p data-i18n="termsContent.intro">Bienvenue sur Clear Terms ‚Äî un outil con√ßu pour aider les utilisateurs √† mieux comprendre les conditions d'utilisation et politiques de confidentialit√© des services num√©riques. En installant ou en utilisant l'extension Clear Terms, vous acceptez d'√™tre li√© par les pr√©sentes Conditions de Service.</p>
        <p data-i18n="termsContent.pleaseRead">Veuillez les lire attentivement.</p>

        <section>
          <h3 class="text-sm font-semibold text-gray-900 mb-2" data-i18n="termsContent.section1Title">1. Pr√©sentation</h3>
          <p data-i18n="termsContent.section1Text">Clear Terms est un outil qui identifie les clauses cl√©s et les risques couramment pr√©sents dans les conditions d'utilisation et politiques de confidentialit√© en ligne. Il fournit des r√©sum√©s, des √©valuations de risque et des analyses bas√©es sur des documents publics et notre analyse interne. Nous nous effor√ßons d'aider les utilisateurs √† prendre des d√©cisions √©clair√©es, mais nous ne pouvons garantir l'exhaustivit√© ou l'exactitude juridique dans tous les contextes.</p>
        </section>

        <section>
          <h3 class="text-sm font-semibold text-gray-900 mb-2" data-i18n="termsContent.section2Title">2. Absence de conseil juridique</h3>
          <p data-i18n="termsContent.section2Text">Clear Terms n'est pas un cabinet d'avocats, et les informations fournies via l'extension ne constituent pas un conseil juridique.</p>
          <p data-i18n="termsContent.section2Intro">Vous comprenez et acceptez que :</p>
          <ul class="list-disc pl-5 space-y-1">
            <li data-i18n="termsContent.section2Item1">Clear Terms ne remplace pas la consultation d'un avocat qualifi√©.</li>
            <li data-i18n="termsContent.section2Item2">Les alertes, exemples et r√©sum√©s que nous fournissons sont uniquement informatifs et peuvent ne pas s'appliquer √† votre situation sp√©cifique.</li>
            <li data-i18n="termsContent.section2Item3">Si vous avez besoin de conseils juridiques ou d'une repr√©sentation l√©gale, vous devez contacter un avocat agr√©√© dans votre juridiction.</li>
            <li data-i18n="termsContent.section2Item4">L'utilisation de Clear Terms ne cr√©e pas de relation avocat-client.</li>
          </ul>
        </section>

        <section>
          <h3 class="text-sm font-semibold text-gray-900 mb-2" data-i18n="termsContent.section3Title">3. Comptes utilisateur et donn√©es</h3>
          <p data-i18n="termsContent.section3Text">Nous collectons uniquement le minimum de donn√©es n√©cessaire pour fournir le service. Actuellement, aucune donn√©e personnelle identifiable n'est collect√©e. Les analyses sont mises en cache de mani√®re anonyme (par hash du contenu) pour am√©liorer les performances. Ces donn√©es ne sont jamais vendues ou partag√©es avec des tiers.</p>
        </section>

        <section>
          <h3 class="text-sm font-semibold text-gray-900 mb-2" data-i18n="termsContent.section4Title">4. Exactitude et limitations</h3>
          <p data-i18n="termsContent.section4Intro">Bien que nous visions √† fournir des informations pr√©cises et √† jour :</p>
          <ul class="list-disc pl-5 space-y-1">
            <li data-i18n="termsContent.section4Item1">Nous ne garantissons pas l'exhaustivit√©, l'exactitude ou la force ex√©cutoire juridique de tout r√©sum√© ou √©valuation de risque fourni.</li>
            <li data-i18n="termsContent.section4Item2">Les conditions d'utilisation changent fr√©quemment, et notre base de donn√©es peut ne pas toujours refl√©ter la version la plus r√©cente d'une politique donn√©e.</li>
            <li data-i18n="termsContent.section4Item3">Notre analyse est bas√©e sur des processus de r√©vision automatis√©s et manuels, qui peuvent avoir des limitations ou des cas particuliers.</li>
          </ul>
        </section>

        <section>
          <h3 class="text-sm font-semibold text-gray-900 mb-2" data-i18n="termsContent.section5Title">5. Propri√©t√© intellectuelle</h3>
          <p data-i18n="termsContent.section5Text">Le nom Clear Terms, le logo, le logiciel et le contenu original sont la propri√©t√© intellectuelle de ses cr√©ateurs. Vous ne pouvez pas :</p>
          <ul class="list-disc pl-5 space-y-1">
            <li data-i18n="termsContent.section5Item1">Faire de la r√©tro-ing√©nierie ou r√©utiliser l'extension</li>
            <li data-i18n="termsContent.section5Item2">Revendre ou distribuer notre analyse sans permission</li>
            <li data-i18n="termsContent.section5Item3">Pr√©senter nos r√©sum√©s comme des avis juridiques</li>
          </ul>
        </section>

        <section>
          <h3 class="text-sm font-semibold text-gray-900 mb-2" data-i18n="termsContent.section6Title">6. Conduite de l'utilisateur</h3>
          <p data-i18n="termsContent.section6Text">Vous acceptez de ne pas :</p>
          <ul class="list-disc pl-5 space-y-1">
            <li data-i18n="termsContent.section6Item1">Utiliser l'extension de mani√®re abusive pour du scraping, de l'automation ou du spam</li>
            <li data-i18n="termsContent.section6Item2">Tenter de modifier le comportement de l'extension</li>
            <li data-i18n="termsContent.section6Item3">Pr√©tendre que les informations fournies par Clear Terms constituent une autorit√© juridique</li>
          </ul>
        </section>

        <section>
          <h3 class="text-sm font-semibold text-gray-900 mb-2" data-i18n="termsContent.section7Title">7. R√©siliation</h3>
          <p data-i18n="termsContent.section7Text">Nous nous r√©servons le droit de suspendre ou de r√©silier votre acc√®s √† l'extension si :</p>
          <ul class="list-disc pl-5 space-y-1">
            <li data-i18n="termsContent.section7Item1">Vous violez ces conditions</li>
            <li data-i18n="termsContent.section7Item2">Vous utilisez l'extension d'une mani√®re qui nuit √† autrui, viole la loi ou compromet l'int√©grit√© du service</li>
          </ul>
        </section>

        <section>
          <h3 class="text-sm font-semibold text-gray-900 mb-2" data-i18n="termsContent.section8Title">8. Exclusion de garanties</h3>
          <p data-i18n="termsContent.section8Text">L'extension Clear Terms est fournie "en l'√©tat" et "selon disponibilit√©" sans garanties d'aucune sorte. Nous d√©clinons toutes garanties expresses ou implicites, y compris, mais sans s'y limiter :</p>
          <ul class="list-disc pl-5 space-y-1">
            <li data-i18n="termsContent.section8Item1">Qualit√© marchande</li>
            <li data-i18n="termsContent.section8Item2">Ad√©quation √† un usage particulier</li>
            <li data-i18n="termsContent.section8Item3">Non-violation</li>
          </ul>
          <p data-i18n="termsContent.section8End">Nous ne garantissons pas que l'extension sera exempte d'erreurs, ininterrompue ou totalement exacte.</p>
        </section>

        <section>
          <h3 class="text-sm font-semibold text-gray-900 mb-2" data-i18n="termsContent.section9Title">9. Limitation de responsabilit√©</h3>
          <p data-i18n="termsContent.section9Text">Dans toute la mesure permise par la loi, Clear Terms (et ses cr√©ateurs, √©quipe et affili√©s) ne pourra √™tre tenu responsable de :</p>
          <ul class="list-disc pl-5 space-y-1">
            <li data-i18n="termsContent.section9Item1">Tout dommage indirect, accessoire ou cons√©cutif</li>
            <li data-i18n="termsContent.section9Item2">Toute perte de donn√©es, de profit ou d'opportunit√© commerciale</li>
            <li data-i18n="termsContent.section9Item3">Toute d√©cision que vous prenez sur la base de notre contenu</li>
          </ul>
          <p data-i18n="termsContent.section9End">Votre seul recours en cas d'insatisfaction avec le service est de cesser de l'utiliser.</p>
        </section>

        <section>
          <h3 class="text-sm font-semibold text-gray-900 mb-2" data-i18n="termsContent.section10Title">10. Droit applicable</h3>
          <p data-i18n="termsContent.section10Text">Ces conditions sont r√©gies et interpr√©t√©es conform√©ment aux lois fran√ßaises. Tout litige sera trait√© exclusivement par les tribunaux comp√©tents en France.</p>
        </section>

        <section>
          <h3 class="text-sm font-semibold text-gray-900 mb-2" data-i18n="termsContent.section11Title">11. Modifications de ces conditions</h3>
          <p data-i18n="termsContent.section11Text">Nous pouvons mettre √† jour ces Conditions de Service de temps √† autre. Si nous apportons des modifications importantes, nous vous en informerons via l'extension. L'utilisation continue du service apr√®s les mises √† jour constitue votre acceptation des nouvelles conditions.</p>
        </section>

        <section>
          <h3 class="text-sm font-semibold text-gray-900 mb-2" data-i18n="termsContent.section12Title">12. Contact</h3>
          <p data-i18n="termsContent.section12Text">Questions ou pr√©occupations ? Contactez-nous √† : [EMAIL]</p>
        </section>

        <p class="text-gray-500 italic mt-4" data-i18n="termsContent.lastUpdated">Derni√®re mise √† jour : 6 octobre 2025</p>
      </div>
    </div>
  </div>

  <script src="i18n.js"></script>
  <script src="popup.js"></script>
</body>
</html>
